//
//  surface.h
//  Apex
//
//  Created by Alfie on 27/08/2024.
//

#ifndef surface_h
#define surface_h

#include "iokit.h"

#include <stdio.h>
#include <stdbool.h>

#define IOSURFACE_MAGIC 0x1EA5CACE

void iosurface_init(io_connect_t *client);
void iosurface_deinit(uint64_t *puafPages);
int iosurface_krw(io_connect_t client, uint64_t *puafPages, int nPages, uint64_t *self_task, uint64_t *puafPage);

uint32_t iosurface_kread32(uint64_t addr);
uint64_t iosurface_kread64(uint64_t addr);
void iosurface_kwrite32(uint64_t addr, uint32_t value);
void iosurface_kwrite64(uint64_t addr, uint64_t value);
void iosurface_kwritebuf(uint64_t addr, void *buf, uint64_t size);
void iosurface_kreadbuf(uint64_t addr, void *buf, uint64_t size);

#endif /* surface_h */
